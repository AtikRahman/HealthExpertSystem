<script src="~/Scripts/Angular/HomeCtrl.js"></script>

<div ng-app="systemApp" ng-controller="homeCtrl">



    you haven't rating this service provider. Please rate !!
    <table class="table table-bordered table-striped table-hover">
        <thead>
        <tr>
            <th>Doctor/Hospital Name</th>
            <th>Disease</th>
            <th>Date</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="provider in notRatedProviders">
            <td>{{provider.ServiceProvider}}</td>
            <td>{{provider.Disease}}</td>
            <td>{{provider.Date}}</td>
            <td>
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#{{$index+'id'}}">
                    Rating
                </button>

                <!-- Modal -->
                <div class="modal fade" id="{{$index+'id'}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel1">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                <h4 class="modal-title" id="myModalLabel1">Doctor/Hopital Rating</h4>
                            </div>
                            <div class="modal-body">
                                <div class="row">
                                    <div class="col-md-4">
                                        <label>Please select the rating</label>
                                    </div>
                                    <div class="col-md-2">
                                        <select ng-model="rating" ng-options="x for x in ratingRange" class="form-control"></select>
                                    </div>
                                </div>

                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-primary" ng-click="storeRating(provider.Id, provider.ServiceProviderId, rating)" data-dismiss="modal">Save</button>
                            </div>
                        </div>
                    </div>
                </div>
            </td>
        </tr>
        </tbody>
    </table>
    <br/><br/>

    Your treatment history.
    <table class="table table-bordered table-striped table-hover">
        <thead>
        <tr>
            <th>Doctor/Hospital Name</th>
            <th>Disease</th>
            <th>Date</th>
            <th>Rating</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="history in recentHistory">
            <td>{{history.ServiceProvider}}</td>
            <td>{{history.Disease}}</td>
            <td>{{history.Date}}</td>
            <td>{{history.Rating}}</td>
            <td>
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#{{$index+'id2'}}">
                    Change Rating
                </button>

                <!-- Modal -->
                <div class="modal fade" id="{{$index+'id2'}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel2">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                <h4 class="modal-title" id="myModalLabel2">Change Rating</h4>
                            </div>
                            <div class="modal-body">
                                <div class="row">
                                    <div class="col-md-4">
                                        <label>Please select the rating</label>
                                    </div>
                                    <div class="col-md-2">
                                        <select ng-model="rating" ng-options="x for x in ratingRange" class="form-control"></select>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-primary" ng-click="storeRating(history.Id, history.ServiceProviderId, rating)" data-dismiss="modal">Save changes</button>
                            </div>
                        </div>
                    </div>
                </div>

            </td>
        </tr>
        </tbody>
    </table>


</div>





